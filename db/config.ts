import { defineDb, defineTable, column, isNotNull } from "astro:db";

const Taxonomy = defineTable({
  columns: {
    id: column.number({ primaryKey: true }),
    phylosort: column.number({ optional: true }),
    subclass: column.text({ optional: true }),
    infraclass: column.text({ optional: true }),
    magnorder: column.text({ optional: true }),
    superorder: column.text({ optional: true }),
    taxonOrder: column.text({ optional: true }),
    suborder: column.text({ optional: true }),
    infraorder: column.text({ optional: true }),
    parvorder: column.text({ optional: true }),
    superfamily: column.text({ optional: true }),
    family: column.text({ optional: true }),
    subfamily: column.text({ optional: true }),
    tribe: column.text({ optional: true }),
    genus: column.text({ optional: true }),
    subgenus: column.text({ optional: true }),
    specificEpithet: column.text({ optional: true }),
    sciName: column.text({ optional: true }),
    authoritySpeciesAuthor: column.text({ optional: true }),
    authoritySpeciesYear: column.number({ optional: true }),
    authorityParentheses: column.number({ optional: true }),
    mainCommonName: column.text({ optional: true }),
    otherCommonNames: column.text({ optional: true }),
    originalNameCombination: column.text({ optional: true }),
    authoritySpeciesCitation: column.text({ optional: true }),
    authoritySpeciesLink: column.text({ optional: true }),
    typeVoucher: column.text({ optional: true }),
    typeKind: column.text({ optional: true }),
    typeVoucherURIs: column.text({ optional: true }),
    typeLocality: column.text({ optional: true }),
    typeLocalityLatitude: column.text({ optional: true }),
    typeLocalityLongitude: column.text({ optional: true }),
    nominalNames: column.text({ optional: true }),
    taxonomyNotes: column.text({ optional: true }),
    taxonomyNotesCitation: column.text({ optional: true }),
    distributionNotes: column.text({ optional: true }),
    distributionNotesCitation: column.text({ optional: true }),
    subregionDistribution: column.text({ optional: true }),
    countryDistribution: column.text({ optional: true }),
    continentDistribution: column.text({ optional: true }),
    biogeographicRealm: column.text({ optional: true }),
    iucnStatus: column.text({ optional: true }),
    extinct: column.text({ optional: true }),
    domestic: column.text({ optional: true }),
    flagged: column.text({ optional: true }),
    CMW_sciName: column.text({ optional: true }),
    diffSinceCMW: column.text({ optional: true }),
    MSW3_matchtype: column.text({ optional: true }),
    MSW3_sciName: column.text({ optional: true }),
    diffSinceMSW3: column.text({ optional: true }),
  },
});

const Synonym = defineTable({
  columns: {
    synId: column.number(),
    hespId: column.number(),
    speciesId: column.number(),
    species: column.text(),
    rootName: column.text(),
    author: column.text(),
    year: column.text(),
    authorityParentheses: column.number(),
    nomenclatureStatus: column.text(),
    validity: column.text(),
    originalCombination: column.text(),
    originalRank: column.text(),
    authorityCitation: column.text(),
    uncheckedAuthorityCitation: column.text(),
    sourcedUnverifiedCitations: column.text(),
    citationGroup: column.text(),
    citationKind: column.text(),
    authorityPage: column.text(),
    authorityLink: column.text(),
    authorityPageLink: column.text(),
    uncheckedAuthorityPageLink: column.text(),
    oldTypeLocality: column.text(),
    originalTypeLocality: column.text(),
    uncheckedTypeLocality: column.text(),
    emendedTypeLocality: column.text(),
    typeLatitude: column.text(),
    typeLongitude: column.text(),
    typeCountry: column.text(),
    typeSubregion: column.text(),
    typeSubregion2: column.text(),
    holotype: column.text(),
    typeKind: column.text(),
    typeSpecimenLink: column.text(),
    taxonOrder: column.text(),
    family: column.text(),
    genus: column.text(),
    specificEpithet: column.text(),
    subspecificEpithet: column.text(),
    variantOf: column.text(),
    seniorHomonym: column.text(),
    variantNameCitations: column.text(),
    nameUsages: column.text(),
    comments: column.text(),
  },
});

// https://astro.build/db/config
export default defineDb({
  tables: { Taxonomy, Synonym },
});
